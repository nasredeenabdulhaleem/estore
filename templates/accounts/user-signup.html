{% load static %}
{% load cloudinary_tags %}
<!DOCTYPE html>
<html lang="en" data-theme="luxury">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>USER Sign UP</title>
    <!-- Include daisyui and tailwind css -->
    <!-- fontawesome cdn  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <link href="{% static 'css/output.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<body class="bg-inherit font-quicksand">
    <!-- BEGIN: Signup Form -->
    <div class="toast toast-top toast-end" id="toastContainer">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}" id="alert">
            <span>{{message}}</span>
            <!-- <button onclick="document.getElementById('alert').style.display='none'"><i class="fa fa-times"></i></button> -->
            {% endfor %}
        </div>
    </div>
    <main>
        <div class=" mx-auto rounded-md overflow-hidden shadow-md">
            <div class="flex flex-row items-center justify-evenly ">
                <div class="rounded-full border border-accent-content overflow-hidden mr-4">
                    <img src=""
                        alt="Store Logo" class="w-20 h-20">
                </div>
                <div class="flex flex-row items-center gap-4">
                <h2 class="text-2xl font-bold mb-4">SIGN UP FORM</h2>
                <div class="theme-swap flex place-content-center mb-4">
                    <label class="swap swap-rotate">
                        <!-- this hidden checkbox controls the state -->
                        <input type="checkbox" />
        
                        <!-- sun icon -->
                        <svg
                            data-set-theme="luxury"
                            class="swap-on fill-current w-7 h-7 md:w-10 md:h-10"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                        >
                            <path
                                d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"
                            />
                        </svg>
        
                        <!-- moon icon -->
                        <svg
                            data-set-theme="retro"
                            class="swap-off fill-current w-7 h-7 md:w-10 md:h-10"
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                        >
                            <path
                                d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"
                            />
                        </svg>
                    </label>
                </div></div>
            </div>
            <div class="px-6 py-4">
              <div class="tabs  flex ">
                <div class="tab border border-accent-focus bg-accent-focus hover:bg-accent-focus m-2 text-accent-content  text-lg flex-grow active">User Signup Form</div>
                <div class="tab border border-accent-focus hover:bg-accent-focus m-2  text-accent-content text-lg flex-grow">Vendor Signup Form</div>
              </div>
              <div class="tab-content mt-4">
                <div class="space-y-4 px-4 py-4 md:px-12">
                    <!-- <form action="{% url 'signup' %}" method="post" enctype="application/x-www-form-urlencoded">
                        <div class="mb-4">
                            <label class="block text-accent-content font-bold mb-2" for="username">
                                Username
                            </label>
                            <input
                                class="input input-bordered w-full appearance-none block  text-sm"
                                id="username"
                                type="text"
                                placeholder="Username"
                            />
                        </div>
                        <div class="mb-4">
                            <label class="block text-accent-content font-bold mb-2" for="email">
                                Email
                            </label>
                            <input
                                class="input input-bordered w-full appearance-none block   text-sm"
                                id="email"
                                type="email"
                                placeholder="Email"
                            />
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-accent-content font-bold mb-2" for="password">
                                Password
                            </label>
                            <input
                                class="input input-bordered  appearance-none block w-full  text-sm"
                                id="password"
                                name="password1"
                                type="password"
                                placeholder="Password"
                            />
                        </div>
                        <div class="mb-4">
                            <label class="block text-accent-content font-bold mb-2" for="confirm-password">
                                Confirm Password
                            </label>
                            <input
                                class="input input-bordered  appearance-none block w-full  text-sm"
                                id="confirm-password"
                                name="password2"
                                type="password"
                                placeholder="Confirm Password"
                            />
                        </div>
                        <input type="hidden" name="account_type" value="user">
                        <div class="flex items-center place-content-center gap-2 justify-between">
                            <button
                                class="btn btn-outline btn-accent  flex place-content-center w-3/4 "
                                type="button"
                            >
                                Sign Up
                            </button>
                            <a
                                class="inline-block align-baseline w-fit font-bold text-sm text-blue-500 hover:text-blue-800"
                                href="#"
                            >
                                Already have an account?
                            </a>
                        </div>
                    </form> -->
                    <form method="post"  action="{% url 'signup' %}" enctype="application/x-www-form-urlencoded">
                        {% csrf_token %}
                        <!-- Display non-field errors -->
                        {% if form.non_field_errors %}
                        {% for error in form.non_field_errors %}
                        <div role="alert" class="alert alert-error">
                            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>{{error}}</span>
                        </div>
                        {% endfor %}
                        {% endif %}
                        <br>
                        {% for field in form %}
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="{{ field.id_for_label }}">
                                {{ field.label }}
                            </label>
                            {% if field.field.widget.input_type == 'select' %}
                            <select class="select select-bordered w-full  appearance-none text-sm block">
                                <option disabled selected>Make a wise decision</option>
                                {% for choice_value, choice_label in field.field.choices %}
                                <option value="{{ choice_value }}" {% if field.value == choice_value %}selected{% endif %}>{{
                                    choice_label }}</option>
                                {% endfor %}
                            </select>
                            {% elif field.field.widget.input_type == 'radio' %}
                                {% for choice in field.field.choices %}
                                <div class="form-control">
                                    <label class="label cursor-pointer">
                                        <span class="label-text">{{ choice.1 }}</span>
                                        <input type="radio" name="{{ field.html_name }}" value="{{ choice.0 }}"
                                            class="radio checked:bg-accent-focus" {% if field.value == choice.0 %} checked {% endif %} />
                                    </label>
                                </div>
                                {% endfor %}
                            {% else %}
                            <input class="input input-bordered w-full appearance-none block  text-sm"
                                type="{{ field.field.widget.input_type }}" id="{{ field.id_for_label }}"
                                name="{{ field.name }}" value="{{ field.value | default:'' }}"
                                placeholder="{{ field.field.widget.attrs.placeholder}}" />
                            {% endif %}
                            {% for error in field.errors %}
                            <span class="text-error">{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% endfor %}
                         <div class="flex items-center place-content-center gap-2 justify-between">
                            <button class="btn btn-outline btn-accent w-3/4 flex place-content-center "
                                type="submit">
                                User SIGNUP
                            </button>
                            <a class="inline-block align-baseline w-fit font-bold text-sm text-blue-500 hover:text-blue-800"
                                href="{% url 'login' %}">
                                Already have an account?
                            </a>
                        </div>
                    </form>
                    
                </div>
              </div>
              <div class="tab-content mt-4 hidden">
                <div class="space-y-4 px-4 py-4 md:px-12">
                    <form action="{% url 'vendor_signup' %}" method="post" enctype="application/x-www-form-urlencoded">
                        {% csrf_token %}
                        <!-- Display non-field errors -->
                        {% if vendor_form.non_field_errors %}
                        {% for error in vendor_form.non_field_errors %}
                        <div role="alert" class="alert alert-error">
                            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
                                viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
                            </svg>
                            <span>{{error}}</span>
                        </div>
                        {% endfor %}
                        {% endif %}
                        <br>
                        {% for field in vendor_form %}
                        <div class="mb-4">
                            <label class="block text-gray-700 font-bold mb-2" for="{{ field.id_for_label }}">
                                {{ field.label }}
                            </label>
                            {% if field.field.widget.input_type == 'select' %}
                            <select class="select select-bordered w-full  appearance-none text-sm block">
                                <option disabled selected>Make a wise decision</option>
                                {% for choice_value, choice_label in field.field.choices %}
                                <option value="{{ choice_value }}" {% if field.value == choice_value %}selected{% endif %}>{{
                                    choice_label }}</option>
                                {% endfor %}
                            </select>
                            {% elif field.field.widget.input_type == 'radio' %}
                                {% for choice in field.field.choices %}
                                <div class="form-control">
                                    <label class="label cursor-pointer">
                                        <span class="label-text">{{ choice.1 }}</span>
                                        <input type="radio" name="{{ field.html_name }}" value="{{ choice.0 }}"
                                            class="radio checked:bg-accent-focus" {% if field.value == choice.0 %} checked {% endif %} />
                                    </label>
                                </div>
                                {% endfor %}
                            {% else %}
                            <input class="input input-bordered w-full appearance-none block  text-sm"
                                type="{{ field.field.widget.input_type }}" id="{{ field.id_for_label }}"
                                name="{{ field.name }}" value="{{ field.value | default:'' }}"
                                placeholder="{{ field.field.widget.attrs.placeholder}}" />
                            {% endif %}
                            {% for error in field.errors %}
                            <span class="text-error">{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% endfor %}
                        <div class="flex items-center place-content-center gap-2 justify-between">
                            <button
                                class="btn btn-outline btn-accent  flex place-content-center w-3/4 "
                                type="submit"
                            >
                               Vendor Sign Up
                            </button>
                            <a
                                class="inline-block align-baseline w-fit font-bold text-sm text-blue-500 hover:text-blue-800"
                                href="{% url 'login' %}"
                            >
                                Already have an account?
                            </a>
                        </div>
                    </form>
                  
                </div>
              </div>
            </div>
          </div>
    </main>
    <!-- END: Signup Form -->
    <script>
        // Get the tab elements
        const tabs = Array.from(document.querySelectorAll('.tab'));
        const tabContents = Array.from(document.querySelectorAll('.tab-content'));
      
        // Add click event listeners to the tabs
        tabs.forEach((tab, index) => {
          tab.addEventListener('click', () => {
            // Remove the active class from all tabs and tab contents
            tabs.forEach(tab => tab.classList.remove('active','bg-accent-focus'));
            tabContents.forEach(content => content.classList.add('hidden'));
      
            // Add the active class to the clicked tab and its corresponding tab content
            tab.classList.add('active','bg-accent-focus');
            tabContents[index].classList.remove('hidden');
          });
        });
      </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/theme-change@2.0.2/index.js"></script>
    <script src="{% static 'js/index.js' %}"></script>
    <script>
        window.onload = function() {
        setTimeout(function() {
            var toastContainer = document.getElementById('toastContainer');
            if (toastContainer) {
                toastContainer.style.display = 'none';
            }
        }, 5000);  // 5000 milliseconds = 5 seconds
    }
    </script>
</body>

</html>